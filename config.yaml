name: "CatFlap"
version: "0.9.7 ALPHA"
slug: "catflap"
description: >-
  Replay Flipper Zero .sub (RAW) and .rfcat.json captures as Home Assistant MQTT buttons,
  transmitting via an RFCat-compatible CC1111 dongle (Yard Stick One, etc.).
url: "https://github.com/jaronmcd/CatFlap"

arch:
  - aarch64
  - amd64
  - armv7

startup: application
boot: auto
init: false

# Needed so you can manage files in /share
map:
  - share:rw

# Needed for CC1111 USB dongles
usb: true
udev: true

options:
  mqtt_broker: "core-mosquitto"
  mqtt_port: 1883
  mqtt_user: ""
  mqtt_password: ""
  node_id: "catflap"
  sub_directory: "/share/tx_files"

  # CC1110/CC1111 TX power configuration (SWRS033H)
  # - tx_power_mode: "max" uses rfcat defaults (recommended starting point)
  # - "manual" programs FREND0 + PATABLE using firmware peek/poke
  tx_power_mode: "max"
  frend0_pa_power: null
  frend0_lodiv_buf_current_tx: null
  patable: null

schema:
  mqtt_broker: str
  mqtt_port: port
  mqtt_user: str
  mqtt_password: password
  node_id: str
  sub_directory: str

  tx_power_mode: str?
  frend0_pa_power: int?
  frend0_lodiv_buf_current_tx: int?
  patable: str?
